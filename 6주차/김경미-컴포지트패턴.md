# ch9-2.ì»¬ë ‰ì…˜ ì˜ ê´€ë¦¬í•˜ê¸°-ì»´í¬ì§€íŠ¸ íŒ¨í„´

## ìš”ì²­
ì—¬ëŸ¬ ê°œì˜ ë©”ë‰´ë§Œ ì§€ì›í•˜ëŠ” ê±¸ë¡œ ëë‚˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ë©”ë‰´ ì•ˆì— ì„œë¸Œë©”ë‰´ê°€ ë“¤ì–´ê°€ ìˆëŠ” ê²ƒë„ ì§€ì› ìš”ì²­

<img src="https://github.com/user-attachments/assets/db165452-69ff-4dd1-bfaa-9f5d310a1602" style="width:400px; height:300px;"/>

## ì»´í¬ì§€íŠ¸ íŒ¨í„´(Composite Pattern)
 ì»´í¬ì§€íŠ¸ íŒ¨í„´ìœ¼ë¡œ ê°ì²´ë¥¼ **íŠ¸ë¦¬ êµ¬ì¡°**ë¡œ êµ¬ì„±í•´ì„œ ë¶€ë¶„-ì „ì²´ ê³„ì¸µêµ¬ì¡°ë¥¼ êµ¬í˜„í•œë‹¤. ì»´í¬ì§€íŠ¸ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ê°œë³„ ê°ì²´ì™€ ë³µí•© ê°ì²´ë¥¼ ë˜‘ê°™ì€ ë°©ë²•ìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìˆë‹¤.

(íŠ¸ë¦¬ êµ¬ì¡°ëŠ” ë¿Œë¦¬(ë£¨íŠ¸)ê°€ ë§¨ ìœ„ì— ìˆê³  ê±°ê¸°ì—ì„œë¶€í„° ì ì  ë„“ì–´ì§€ë©´ì„œ ì•„ë˜ë¡œ ë‚´ë ¤ê°€ëŠ” ë’¤ì§‘íŒ ë‚˜ë¬´ ëª¨ì–‘ì´ë‹¤.)


1. MenuComponent ì¶”ìƒ í´ë˜ìŠ¤
   - ìê³¼ ë³µí•© ë…¸ë“œ ëª¨ë‘ì—ì„œ ì“°ì´ëŠ” ì¸í„°í˜ì´ìŠ¤ ì—­í• 
   (ëª¨ë“  ë©”ì†Œë“œë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ êµ¬í˜„)
   - ìê¸° ì—­í• ì— ë§ì§€ ì•ŠëŠ” ìƒí™©ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ” ì½”ë“œë¥¼ ê¸°ë³¸ êµ¬í˜„
   (ìê¸° ì—­í• ì— ë§ì§€ ì•ŠëŠ” ë©”ì†Œë“œëŠ” ì˜¤ë²„ë¼ì´ë“œí•˜ì§€ ì•Šê³  ê¸°ë³¸ êµ¬í˜„ ê·¸ëŒ€ë¡œ ì‚¬ìš©)

```
public abstract class MenuComponent{
    public void add(MenuComponent menuComponent){
        throw new UnsupportedOperationException();
    }

    public void remove(MenuComponent menuComponent){
        throw new UnsupportedOperationException();
    }

    public MenuComponent getChild(int i){
        throw new UnsupportedOperationException();
    }

    public String getName(){
        throw new UnsupportedOperationException();
    }

    public String getDescription(){
        throw new UnsupportedOperationException();
    }

    public double getPrice(){
        throw new UnsupportedOperationException();
    }

    public boolean isVegetarian(){
        throw new UnsupportedOperationException();
    }

    public void print(){
        throw new UnsupportedOperationException();
    }
}
``` 

2. MenuItem í´ë˜ìŠ¤
   - ì»´í¬ì§€íŠ¸ íŒ¨í„´ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ìì— í•´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤

```
public class MenuItem extends MenuComponent{
    String name;
    String description;
    boolean vegetarian;
    double price;

    public MenuItem(String name, String description, String vegetarian, double price){
        this.name = name;
        this.description = description;
        this.vegetarian = vegetarian;
        this.price = price;
    }

    public String getName(){
        return name;
    }

    public String getDescription(){
        return description;
    }

    public double getPrice(){
        return price;
    }

    public boolean isVegetarian(){
        return vegetarian;
    }

    public void print(){
        System.out.print(getName());

        if(isVegetarian()){
            System.out.print("(v)");
        }

        System.out.print(getPrice());
    }
}
```

3. Menu í´ë˜ìŠ¤ - ë³µí•© ê°ì²´ í´ë˜ìŠ¤

```
public class Menu extends MenuComponent{
    List<MenuComponent> menuComponents = new ArrayList<>();
    String name;
    String description;

    public Menu(String name, String description){
        this.name = name;
        this.description = description;
    }

    public void add(MenuComponent menuComponent){
        menuComponents.add(menuComponent);
    }

    public void remove(MenuComponent menuComponent){
        menuComponents.remove(menuComponent);
    }

    public MenuComponent getChild(int i){
        return menuComponents.get(i);
    }

    public String getName(){
        return name;
    }

    public String getDescription(){
        return description;
    }

    public void print(){
        System.out.print(getName());
        System.out.print(getDescription());
        System.out.print("--------------------);

        for(MenuComponent menuComponent : menuComponents){
            menuComponent.print();
        }
    }
}
```

4. ì¢…ì—…ì› ì½”ë“œ - í´ë¼ì´ì–¸íŠ¸
```
public class Waitress{
    MenuComponent allMenus;

    public Waitress(MenuComponent allMenus){
        this.allMenus = allMenus;
    }

    public void printMenu(){
        allMenus.print();
    }
}
```


5. ì •ë¦¬ - ê°ì²´ êµ¬ì„±
<img src="https://github.com/user-attachments/assets/3401ef75-4156-4b68-aaf4-bc397f0c5839" style="width:400px; height:300px;"/>



ğŸ“Œ ì¥ì 
1. íŠ¸ë¦¬ êµ¬ì¡° í‘œí˜„ ìš©ì´ì„±
- ë³µì¡í•œ ê°ì²´ ê³„ì¸µ êµ¬ì¡°ë¥¼ íŠ¸ë¦¬ í˜•íƒœë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.
- ë‹¨ì¼ ê°ì²´ì™€ ë³µí•© ê°ì²´ë¥¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ ì¼ê´€ì„±ì´ ë†’ì•„ì§„ë‹¤.

2. ê°ì²´ ê´€ë¦¬ì˜ ì¼ê´€ì„±
- í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì—ì„œ ê°œë³„ ê°ì²´ì™€ ë³µí•© ê°ì²´ë¥¼ êµ¬ë³„í•˜ì§€ ì•Šê³  ë™ì¼í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
- ê°ì²´ì˜ ê³„ì¸µ êµ¬ì¡°ë¥¼ íˆ¬ëª…í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

3. í™•ì¥ì„±
- ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ì¶”ê°€í•  ë•Œ ê¸°ì¡´ ì½”ë“œì˜ ìˆ˜ì •ì´ ìµœì†Œí™”ëœë‹¤.
- ë³µí•© ê°ì²´ì™€ ë¦¬í”„(Leaf) ê°ì²´ë¥¼ ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

4. ì¬ì‚¬ìš©ì„± ì¦ê°€
- ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³µí•© ê°ì²´ì™€ ë¦¬í”„ ê°ì²´ë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- êµ¬ì¡°ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³ ë„ ë‹¤ì–‘í•œ ê°ì²´ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.

5. ì¬ê·€ì  êµ¬ì¡° ê´€ë¦¬
- ì»´í¬ì§€íŠ¸ íŒ¨í„´ì€ ì¬ê·€ì ì¸ êµ¬ì¡°ë¥¼ ê°€ì§€ë¯€ë¡œ ìì‹ ìš”ì†Œë“¤ì„ íŠ¸ë¦¬ í˜•íƒœë¡œ ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.
- ë³µí•© ê°ì²´ ì•ˆì— ë˜ ë‹¤ë¥¸ ë³µí•© ê°ì²´ë¥¼ í¬í•¨í•  ìˆ˜ ìˆë‹¤.

âš ï¸ ë‹¨ì 
1. ë³µì¡ì„± ì¦ê°€
- ë‹¨ìˆœí•œ êµ¬ì¡°ì— ì´ íŒ¨í„´ì„ ì ìš©í•˜ë©´ ì½”ë“œê°€ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆë‹¤.
- íŠ¸ë¦¬ êµ¬ì¡°ê°€ ì§€ë‚˜ì¹˜ê²Œ ê¹Šì–´ì§ˆ ê²½ìš° ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆë‹¤.

2. íƒ€ì… ì•ˆì „ì„± ë¬¸ì œ
- ê³µí†µ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë‹¤ ë³´ë‹ˆ íŠ¹ì • ë©”ì„œë“œê°€ ë¦¬í”„(Leaf)ì™€ ë³µí•©(Composite) ëª¨ë‘ì— ì¡´ì¬í•´ì•¼ í•œë‹¤.
- ì¼ë¶€ ë©”ì„œë“œëŠ” ë¦¬í”„ì—ì„œ ì˜ë¯¸ê°€ ì—†ê±°ë‚˜ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•˜ì—¬ ì˜ˆì™¸ ì²˜ë¦¬ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤.

3. ê°ì²´ ê´€ë¦¬ ë¹„ìš©
- íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ ê´€ë¦¬í•˜ëŠ” ë¹„ìš©ì´ ì¦ê°€í•  ìˆ˜ ìˆë‹¤.
- íŠ¹íˆ ë³µí•© ê°ì²´ ë‚´ë¶€ì— ë§ì€ í•˜ìœ„ ìš”ì†Œê°€ ìˆì„ ê²½ìš° ì„±ëŠ¥ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆë‹¤.

4. ìì›ì˜ ë¹„íš¨ìœ¨ì  ì‚¬ìš©
- íŠ¸ë¦¬ì˜ ëª¨ë“  ë…¸ë“œë¥¼ íƒìƒ‰í•´ì•¼ í•˜ëŠ” ê²½ìš° ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
- ë³µì¡í•œ íŠ¸ë¦¬ êµ¬ì¡°ì—ì„œëŠ” ë©”ëª¨ë¦¬ì™€ ì²˜ë¦¬ ë¹„ìš©ì´ ì»¤ì§ˆ ìˆ˜ ìˆë‹¤.